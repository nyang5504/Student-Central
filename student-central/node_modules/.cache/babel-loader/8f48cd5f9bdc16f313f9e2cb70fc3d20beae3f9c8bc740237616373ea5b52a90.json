{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from'react-router-dom';import'../../styles/user-profile/Register.css';// Main function for the form\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Registerform=function Registerform(){var _useState=useState({username:'',password:'',confirmPassword:''}),_useState2=_slicedToArray(_useState,2),formStrings=_useState2[0],setFormStrings=_useState2[1];//Declare variables\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),errorMessage=_useState4[0],setErrorMessage=_useState4[1];var navigate=useNavigate();// Allows users to type in the form\nvar handleInputChange=function handleInputChange(e){setFormStrings(_objectSpread(_objectSpread({},formStrings),{},_defineProperty({},e.target.name,e.target.value)));};// fetches post request so user data is sent to database\nvar handleRegister=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:// stops page from refreshing\ne.preventDefault();//Checks if passowrd/confirmpassword works\nif(!(formStrings.password!==formStrings.confirmPassword)){_context.next=4;break;}setErrorMessage(\"Passwords do not match\");return _context.abrupt(\"return\");case 4:_context.prev=4;_context.next=7;return fetch('http://localhost:4000/api/register',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formStrings)});case 7:response=_context.sent;if(response.ok){console.log('Sign up was a success');//Redirects user to login page \nnavigate('/login');}else{setErrorMessage('Try again');//Resets form\nsetFormStrings({username:'',password:'',confirmPassword:''});}_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);console.error('Error registering: ',_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[4,11]]);}));return function handleRegister(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"register-container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"title\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleRegister,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",value:formStrings.username,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",value:formStrings.password,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmPassword\",children:\"Confirm Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",value:formStrings.confirmPassword,onChange:handleInputChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Sign Up\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{children:errorMessage})]})})]});};export default Registerform;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Registerform","_useState","username","password","confirmPassword","_useState2","_slicedToArray","formStrings","setFormStrings","_useState3","_useState4","errorMessage","setErrorMessage","navigate","handleInputChange","e","_objectSpread","_defineProperty","target","name","value","handleRegister","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","preventDefault","abrupt","fetch","method","headers","body","JSON","stringify","sent","ok","console","log","t0","error","stop","_x","apply","arguments","className","children","onSubmit","htmlFor","type","id","onChange"],"sources":["C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/src/components/user-profile/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../../styles/user-profile/Register.css';\r\n\r\n// Main function for the form\r\nconst Registerform = () => {\r\n    const [formStrings, setFormStrings] = useState({\r\n        username: '',\r\n        password: '',\r\n        confirmPassword: '',\r\n    });\r\n\r\n    //Declare variables\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const navigate = useNavigate();\r\n\r\n    // Allows users to type in the form\r\n    const handleInputChange = (e) => {\r\n        setFormStrings({\r\n            ...formStrings,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n\r\n    // fetches post request so user data is sent to database\r\n    const handleRegister = async (e) => {\r\n        // stops page from refreshing\r\n        e.preventDefault();\r\n\r\n        //Checks if passowrd/confirmpassword works\r\n        if (formStrings.password !== formStrings.confirmPassword) {\r\n            setErrorMessage(\"Passwords do not match\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:4000/api/register', {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json', },\r\n                body: JSON.stringify(formStrings),\r\n            });\r\n\r\n            if (response.ok) {\r\n                console.log('Sign up was a success')\r\n                //Redirects user to login page \r\n                navigate('/login');\r\n            } else {\r\n                setErrorMessage('Try again');\r\n                //Resets form\r\n                setFormStrings({\r\n                    username: '',\r\n                    password: '',\r\n                    confirmPassword: '',\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error('Error registering: ', error);\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"register-container\">\r\n            <h2 className=\"title\">Sign Up</h2>\r\n            <div className=\"form\">\r\n                <form onSubmit={handleRegister}>\r\n                    <label htmlFor=\"username\">Username:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"username\"\r\n                        name=\"username\"\r\n                        value={formStrings.username}\r\n                        onChange={handleInputChange}\r\n                    />\r\n\r\n                    <label htmlFor=\"password\">Password:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        value={formStrings.password}\r\n                        onChange={handleInputChange}\r\n                    />\r\n\r\n                    <label htmlFor=\"confirmPassword\">Confirm Password:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"confirmPassword\"\r\n                        name=\"confirmPassword\"\r\n                        value={formStrings.confirmPassword}\r\n                        onChange={handleInputChange}\r\n                    />\r\n\r\n                    <button type=\"submit\">Sign Up</button>\r\n                    {errorMessage && <p>{errorMessage}</p>}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Registerform;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}