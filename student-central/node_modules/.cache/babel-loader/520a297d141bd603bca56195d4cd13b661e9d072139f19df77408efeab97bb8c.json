{"ast":null,"code":"import _get from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _toConsumableArray from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _createForOfIteratorHelper from \"C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport { injectStyles, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, DateComponent, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DateProfileGenerator, addWeeks, diffWeeks, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DayHeader, DaySeriesModel, DayTableModel } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment, createRef } from '@fullcalendar/core/preact.js';\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\nfunction splitSegsByRow(segs, rowCnt) {\n  var byRow = [];\n  for (var i = 0; i < rowCnt; i += 1) {\n    byRow[i] = [];\n  }\n  var _iterator = _createForOfIteratorHelper(segs),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var seg = _step.value;\n      byRow[seg.row].push(seg);\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n  var byCol = [];\n  for (var i = 0; i < colCnt; i += 1) {\n    byCol[i] = [];\n  }\n  var _iterator2 = _createForOfIteratorHelper(segs),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var seg = _step2.value;\n      byCol[seg.firstCol].push(seg);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n  var byRow = [];\n  if (!ui) {\n    for (var i = 0; i < rowCnt; i += 1) {\n      byRow[i] = null;\n    }\n  } else {\n    for (var _i = 0; _i < rowCnt; _i += 1) {\n      byRow[_i] = {\n        affectedInstances: ui.affectedInstances,\n        isEvent: ui.isEvent,\n        segs: []\n      };\n    }\n    var _iterator3 = _createForOfIteratorHelper(ui.segs),\n      _step3;\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var seg = _step3.value;\n        byRow[seg.row].segs.push(seg);\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n  }\n  return byRow;\n}\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n  hour: 'numeric',\n  minute: '2-digit',\n  omitZeroMinute: true,\n  meridiem: 'narrow'\n});\nfunction hasListItemDisplay(seg) {\n  var display = seg.eventRange.ui.display;\n  return display === 'list-item' || display === 'auto' && !seg.eventRange.def.allDay && seg.firstCol === seg.lastCol &&\n  // can't be multi-day\n  seg.isStart &&\n  // \"\n  seg.isEnd // \"\n  ;\n}\nvar TableBlockEvent = /*#__PURE__*/function (_BaseComponent) {\n  _inherits(TableBlockEvent, _BaseComponent);\n  var _super = _createSuper(TableBlockEvent);\n  function TableBlockEvent() {\n    _classCallCheck(this, TableBlockEvent);\n    return _super.apply(this, arguments);\n  }\n  _createClass(TableBlockEvent, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      return createElement(StandardEvent, Object.assign({}, props, {\n        elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'],\n        defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT,\n        defaultDisplayEventEnd: props.defaultDisplayEventEnd,\n        disableResizing: !props.seg.eventRange.def.allDay\n      }));\n    }\n  }]);\n  return TableBlockEvent;\n}(BaseComponent);\nvar TableListItemEvent = /*#__PURE__*/function (_BaseComponent2) {\n  _inherits(TableListItemEvent, _BaseComponent2);\n  var _super2 = _createSuper(TableListItemEvent);\n  function TableListItemEvent() {\n    _classCallCheck(this, TableListItemEvent);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(TableListItemEvent, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n        context = this.context;\n      var options = context.options;\n      var seg = props.seg;\n      var timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n      var timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n      return createElement(EventContainer, Object.assign({}, props, {\n        elTag: \"a\",\n        elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'],\n        elAttrs: getSegAnchorAttrs(props.seg, context),\n        defaultGenerator: renderInnerContent,\n        timeText: timeText,\n        isResizing: false,\n        isDateSelecting: false\n      }));\n    }\n  }]);\n  return TableListItemEvent;\n}(BaseComponent);\nfunction renderInnerContent(renderProps) {\n  return createElement(Fragment, null, createElement(\"div\", {\n    className: \"fc-daygrid-event-dot\",\n    style: {\n      borderColor: renderProps.borderColor || renderProps.backgroundColor\n    }\n  }), renderProps.timeText && createElement(\"div\", {\n    className: \"fc-event-time\"\n  }, renderProps.timeText), createElement(\"div\", {\n    className: \"fc-event-title\"\n  }, renderProps.event.title || createElement(Fragment, null, \"\\xA0\")));\n}\nvar TableCellMoreLink = /*#__PURE__*/function (_BaseComponent3) {\n  _inherits(TableCellMoreLink, _BaseComponent3);\n  var _super3 = _createSuper(TableCellMoreLink);\n  function TableCellMoreLink() {\n    var _this;\n    _classCallCheck(this, TableCellMoreLink);\n    _this = _super3.apply(this, arguments);\n    _this.compileSegs = memoize(compileSegs);\n    return _this;\n  }\n  _createClass(TableCellMoreLink, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var _this$compileSegs = this.compileSegs(props.singlePlacements),\n        allSegs = _this$compileSegs.allSegs,\n        invisibleSegs = _this$compileSegs.invisibleSegs;\n      return createElement(MoreLinkContainer, {\n        elClasses: ['fc-daygrid-more-link'],\n        dateProfile: props.dateProfile,\n        todayRange: props.todayRange,\n        allDayDate: props.allDayDate,\n        moreCnt: props.moreCnt,\n        allSegs: allSegs,\n        hiddenSegs: invisibleSegs,\n        alignmentElRef: props.alignmentElRef,\n        alignGridTop: props.alignGridTop,\n        extraDateSpan: props.extraDateSpan,\n        popoverContent: function popoverContent() {\n          var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) || (props.eventResize ? props.eventResize.affectedInstances : null) || {};\n          return createElement(Fragment, null, allSegs.map(function (seg) {\n            var instanceId = seg.eventRange.instance.instanceId;\n            return createElement(\"div\", {\n              className: \"fc-daygrid-event-harness\",\n              key: instanceId,\n              style: {\n                visibility: isForcedInvisible[instanceId] ? 'hidden' : ''\n              }\n            }, hasListItemDisplay(seg) ? createElement(TableListItemEvent, Object.assign({\n              seg: seg,\n              isDragging: false,\n              isSelected: instanceId === props.eventSelection,\n              defaultDisplayEventEnd: false\n            }, getSegMeta(seg, props.todayRange))) : createElement(TableBlockEvent, Object.assign({\n              seg: seg,\n              isDragging: false,\n              isResizing: false,\n              isDateSelecting: false,\n              isSelected: instanceId === props.eventSelection,\n              defaultDisplayEventEnd: false\n            }, getSegMeta(seg, props.todayRange))));\n          }));\n        }\n      });\n    }\n  }]);\n  return TableCellMoreLink;\n}(BaseComponent);\nfunction compileSegs(singlePlacements) {\n  var allSegs = [];\n  var invisibleSegs = [];\n  var _iterator4 = _createForOfIteratorHelper(singlePlacements),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var placement = _step4.value;\n      allSegs.push(placement.seg);\n      if (!placement.isVisible) {\n        invisibleSegs.push(placement.seg);\n      }\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  return {\n    allSegs: allSegs,\n    invisibleSegs: invisibleSegs\n  };\n}\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({\n  week: 'narrow'\n});\nvar TableCell = /*#__PURE__*/function (_DateComponent) {\n  _inherits(TableCell, _DateComponent);\n  var _super4 = _createSuper(TableCell);\n  function TableCell() {\n    var _this2;\n    _classCallCheck(this, TableCell);\n    _this2 = _super4.apply(this, arguments);\n    _this2.rootElRef = createRef();\n    _this2.state = {\n      dayNumberId: getUniqueDomId()\n    };\n    _this2.handleRootEl = function (el) {\n      setRef(_this2.rootElRef, el);\n      setRef(_this2.props.elRef, el);\n    };\n    return _this2;\n  }\n  _createClass(TableCell, [{\n    key: \"render\",\n    value: function render() {\n      var context = this.context,\n        props = this.props,\n        state = this.state,\n        rootElRef = this.rootElRef;\n      var options = context.options,\n        dateEnv = context.dateEnv;\n      var date = props.date,\n        dateProfile = props.dateProfile;\n      // TODO: memoize this?\n      var isMonthStart = props.showDayNumber && shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n      return createElement(DayCellContainer, {\n        elTag: \"td\",\n        elRef: this.handleRootEl,\n        elClasses: ['fc-daygrid-day'].concat(_toConsumableArray(props.extraClassNames || [])),\n        elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), props.showDayNumber ? {\n          'aria-labelledby': state.dayNumberId\n        } : {}), {\n          role: 'gridcell'\n        }),\n        defaultGenerator: renderTopInner,\n        date: date,\n        dateProfile: dateProfile,\n        todayRange: props.todayRange,\n        showDayNumber: props.showDayNumber,\n        isMonthStart: isMonthStart,\n        extraRenderProps: props.extraRenderProps\n      }, function (InnerContent, renderProps) {\n        return createElement(\"div\", {\n          ref: props.innerElRef,\n          className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\",\n          style: {\n            minHeight: props.minHeight\n          }\n        }, props.showWeekNumber && createElement(WeekNumberContainer, {\n          elTag: \"a\",\n          elClasses: ['fc-daygrid-week-number'],\n          elAttrs: buildNavLinkAttrs(context, date, 'week'),\n          date: date,\n          defaultFormat: DEFAULT_WEEK_NUM_FORMAT\n        }), !renderProps.isDisabled && (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? createElement(\"div\", {\n          className: \"fc-daygrid-day-top\"\n        }, createElement(InnerContent, {\n          elTag: \"a\",\n          elClasses: ['fc-daygrid-day-number', isMonthStart && 'fc-daygrid-month-start'],\n          elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), {\n            id: state.dayNumberId\n          })\n        })) : props.showDayNumber ?\n        // for creating correct amount of space (see issue #7162)\n        createElement(\"div\", {\n          className: \"fc-daygrid-day-top\",\n          style: {\n            visibility: 'hidden'\n          }\n        }, createElement(\"a\", {\n          className: \"fc-daygrid-day-number\"\n        }, \"\\xA0\")) : undefined, createElement(\"div\", {\n          className: \"fc-daygrid-day-events\",\n          ref: props.fgContentElRef\n        }, props.fgContent, createElement(\"div\", {\n          className: \"fc-daygrid-day-bottom\",\n          style: {\n            marginTop: props.moreMarginTop\n          }\n        }, createElement(TableCellMoreLink, {\n          allDayDate: date,\n          singlePlacements: props.singlePlacements,\n          moreCnt: props.moreCnt,\n          alignmentElRef: rootElRef,\n          alignGridTop: !props.showDayNumber,\n          extraDateSpan: props.extraDateSpan,\n          dateProfile: props.dateProfile,\n          eventSelection: props.eventSelection,\n          eventDrag: props.eventDrag,\n          eventResize: props.eventResize,\n          todayRange: props.todayRange\n        }))), createElement(\"div\", {\n          className: \"fc-daygrid-day-bg\"\n        }, props.bgContent));\n      });\n    }\n  }]);\n  return TableCell;\n}(DateComponent);\nfunction renderTopInner(props) {\n  return props.dayNumberText || createElement(Fragment, null, \"\\xA0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n  var currentStart = currentRange.start,\n    currentEnd = currentRange.end;\n  var currentEndIncl = addMs(currentEnd, -1);\n  var currentFirstYear = dateEnv.getYear(currentStart);\n  var currentFirstMonth = dateEnv.getMonth(currentStart);\n  var currentLastYear = dateEnv.getYear(currentEndIncl);\n  var currentLastMonth = dateEnv.getMonth(currentEndIncl);\n  // spans more than one month?\n  return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) && Boolean(\n  // first date in current view?\n  date.valueOf() === currentStart.valueOf() ||\n  // a month-start that's within the current range?\n  dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf());\n}\nfunction computeFgSegPlacement(segs,\n// assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n  var hierarchy = new DayGridSegHierarchy();\n  hierarchy.allowReslicing = true;\n  hierarchy.strictOrder = strictOrder;\n  if (dayMaxEvents === true || dayMaxEventRows === true) {\n    hierarchy.maxCoord = maxContentHeight;\n    hierarchy.hiddenConsumes = true;\n  } else if (typeof dayMaxEvents === 'number') {\n    hierarchy.maxStackCnt = dayMaxEvents;\n  } else if (typeof dayMaxEventRows === 'number') {\n    hierarchy.maxStackCnt = dayMaxEventRows;\n    hierarchy.hiddenConsumes = true;\n  }\n  // create segInputs only for segs with known heights\n  var segInputs = [];\n  var unknownHeightSegs = [];\n  for (var i = 0; i < segs.length; i += 1) {\n    var seg = segs[i];\n    var instanceId = seg.eventRange.instance.instanceId;\n    var eventHeight = eventInstanceHeights[instanceId];\n    if (eventHeight != null) {\n      segInputs.push({\n        index: i,\n        thickness: eventHeight,\n        span: {\n          start: seg.firstCol,\n          end: seg.lastCol + 1\n        }\n      });\n    } else {\n      unknownHeightSegs.push(seg);\n    }\n  }\n  var hiddenEntries = hierarchy.addSegs(segInputs);\n  var segRects = hierarchy.toRects();\n  var _placeRects = placeRects(segRects, segs, cells),\n    singleColPlacements = _placeRects.singleColPlacements,\n    multiColPlacements = _placeRects.multiColPlacements,\n    leftoverMargins = _placeRects.leftoverMargins;\n  var moreCnts = [];\n  var moreMarginTops = [];\n  // add segs with unknown heights\n  for (var _i2 = 0, _unknownHeightSegs = unknownHeightSegs; _i2 < _unknownHeightSegs.length; _i2++) {\n    var _seg = _unknownHeightSegs[_i2];\n    multiColPlacements[_seg.firstCol].push({\n      seg: _seg,\n      isVisible: false,\n      isAbsolute: true,\n      absoluteTop: 0,\n      marginTop: 0\n    });\n    for (var col = _seg.firstCol; col <= _seg.lastCol; col += 1) {\n      singleColPlacements[col].push({\n        seg: resliceSeg(_seg, col, col + 1, cells),\n        isVisible: false,\n        isAbsolute: false,\n        absoluteTop: 0,\n        marginTop: 0\n      });\n    }\n  }\n  // add the hidden entries\n  for (var _col = 0; _col < cells.length; _col += 1) {\n    moreCnts.push(0);\n  }\n  var _iterator5 = _createForOfIteratorHelper(hiddenEntries),\n    _step5;\n  try {\n    for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n      var hiddenEntry = _step5.value;\n      var _seg2 = segs[hiddenEntry.index];\n      var hiddenSpan = hiddenEntry.span;\n      multiColPlacements[hiddenSpan.start].push({\n        seg: resliceSeg(_seg2, hiddenSpan.start, hiddenSpan.end, cells),\n        isVisible: false,\n        isAbsolute: true,\n        absoluteTop: 0,\n        marginTop: 0\n      });\n      for (var _col3 = hiddenSpan.start; _col3 < hiddenSpan.end; _col3 += 1) {\n        moreCnts[_col3] += 1;\n        singleColPlacements[_col3].push({\n          seg: resliceSeg(_seg2, _col3, _col3 + 1, cells),\n          isVisible: false,\n          isAbsolute: false,\n          absoluteTop: 0,\n          marginTop: 0\n        });\n      }\n    }\n    // deal with leftover margins\n  } catch (err) {\n    _iterator5.e(err);\n  } finally {\n    _iterator5.f();\n  }\n  for (var _col2 = 0; _col2 < cells.length; _col2 += 1) {\n    moreMarginTops.push(leftoverMargins[_col2]);\n  }\n  return {\n    singleColPlacements: singleColPlacements,\n    multiColPlacements: multiColPlacements,\n    moreCnts: moreCnts,\n    moreMarginTops: moreMarginTops\n  };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n  var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n  var singleColPlacements = [];\n  var multiColPlacements = [];\n  var leftoverMargins = [];\n  for (var col = 0; col < cells.length; col += 1) {\n    var rects = rectsByEachCol[col];\n    // compute all static segs in singlePlacements\n    var singlePlacements = [];\n    var currentHeight = 0;\n    var currentMarginTop = 0;\n    var _iterator6 = _createForOfIteratorHelper(rects),\n      _step6;\n    try {\n      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n        var rect = _step6.value;\n        var seg = segs[rect.index];\n        singlePlacements.push({\n          seg: resliceSeg(seg, col, col + 1, cells),\n          isVisible: true,\n          isAbsolute: false,\n          absoluteTop: rect.levelCoord,\n          marginTop: rect.levelCoord - currentHeight\n        });\n        currentHeight = rect.levelCoord + rect.thickness;\n      }\n      // compute mixed static/absolute segs in multiPlacements\n    } catch (err) {\n      _iterator6.e(err);\n    } finally {\n      _iterator6.f();\n    }\n    var multiPlacements = [];\n    currentHeight = 0;\n    currentMarginTop = 0;\n    var _iterator7 = _createForOfIteratorHelper(rects),\n      _step7;\n    try {\n      for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n        var _rect = _step7.value;\n        var _seg3 = segs[_rect.index];\n        var isAbsolute = _rect.span.end - _rect.span.start > 1; // multi-column?\n        var isFirstCol = _rect.span.start === col;\n        currentMarginTop += _rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n        currentHeight = _rect.levelCoord + _rect.thickness; // height will now be bottom of current seg\n        if (isAbsolute) {\n          currentMarginTop += _rect.thickness;\n          if (isFirstCol) {\n            multiPlacements.push({\n              seg: resliceSeg(_seg3, _rect.span.start, _rect.span.end, cells),\n              isVisible: true,\n              isAbsolute: true,\n              absoluteTop: _rect.levelCoord,\n              marginTop: 0\n            });\n          }\n        } else if (isFirstCol) {\n          multiPlacements.push({\n            seg: resliceSeg(_seg3, _rect.span.start, _rect.span.end, cells),\n            isVisible: true,\n            isAbsolute: false,\n            absoluteTop: _rect.levelCoord,\n            marginTop: currentMarginTop // claim the margin\n          });\n\n          currentMarginTop = 0;\n        }\n      }\n    } catch (err) {\n      _iterator7.e(err);\n    } finally {\n      _iterator7.f();\n    }\n    singleColPlacements.push(singlePlacements);\n    multiColPlacements.push(multiPlacements);\n    leftoverMargins.push(currentMarginTop);\n  }\n  return {\n    singleColPlacements: singleColPlacements,\n    multiColPlacements: multiColPlacements,\n    leftoverMargins: leftoverMargins\n  };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n  var rectsByEachCol = [];\n  for (var col = 0; col < colCnt; col += 1) {\n    rectsByEachCol.push([]);\n  }\n  var _iterator8 = _createForOfIteratorHelper(rects),\n    _step8;\n  try {\n    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n      var rect = _step8.value;\n      for (var _col4 = rect.span.start; _col4 < rect.span.end; _col4 += 1) {\n        rectsByEachCol[_col4].push(rect);\n      }\n    }\n  } catch (err) {\n    _iterator8.e(err);\n  } finally {\n    _iterator8.f();\n  }\n  return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n  if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n    return seg;\n  }\n  var eventRange = seg.eventRange;\n  var origRange = eventRange.range;\n  var slicedRange = intersectRanges(origRange, {\n    start: cells[spanStart].date,\n    end: addDays(cells[spanEnd - 1].date, 1)\n  });\n  return Object.assign(Object.assign({}, seg), {\n    firstCol: spanStart,\n    lastCol: spanEnd - 1,\n    eventRange: {\n      def: eventRange.def,\n      ui: Object.assign(Object.assign({}, eventRange.ui), {\n        durationEditable: false\n      }),\n      instance: eventRange.instance,\n      range: slicedRange\n    },\n    isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(),\n    isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf()\n  });\n}\nvar DayGridSegHierarchy = /*#__PURE__*/function (_SegHierarchy) {\n  _inherits(DayGridSegHierarchy, _SegHierarchy);\n  var _super5 = _createSuper(DayGridSegHierarchy);\n  function DayGridSegHierarchy() {\n    var _this3;\n    _classCallCheck(this, DayGridSegHierarchy);\n    _this3 = _super5.apply(this, arguments);\n    // config\n    _this3.hiddenConsumes = false;\n    // allows us to keep hidden entries in the hierarchy so they take up space\n    _this3.forceHidden = {};\n    return _this3;\n  }\n  _createClass(DayGridSegHierarchy, [{\n    key: \"addSegs\",\n    value: function addSegs(segInputs) {\n      var _this4 = this;\n      var hiddenSegs = _get(_getPrototypeOf(DayGridSegHierarchy.prototype), \"addSegs\", this).call(this, segInputs);\n      var entriesByLevel = this.entriesByLevel;\n      var excludeHidden = function excludeHidden(entry) {\n        return !_this4.forceHidden[buildEntryKey(entry)];\n      };\n      // remove the forced-hidden segs\n      for (var level = 0; level < entriesByLevel.length; level += 1) {\n        entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n      }\n      return hiddenSegs;\n    }\n  }, {\n    key: \"handleInvalidInsertion\",\n    value: function handleInvalidInsertion(insertion, entry, hiddenEntries) {\n      var entriesByLevel = this.entriesByLevel,\n        forceHidden = this.forceHidden;\n      var touchingEntry = insertion.touchingEntry,\n        touchingLevel = insertion.touchingLevel,\n        touchingLateral = insertion.touchingLateral;\n      if (this.hiddenConsumes && touchingEntry) {\n        var touchingEntryId = buildEntryKey(touchingEntry);\n        // if not already hidden\n        if (!forceHidden[touchingEntryId]) {\n          if (this.allowReslicing) {\n            var placeholderEntry = Object.assign(Object.assign({}, touchingEntry), {\n              span: intersectSpans(touchingEntry.span, entry.span)\n            });\n            var placeholderEntryId = buildEntryKey(placeholderEntry);\n            forceHidden[placeholderEntryId] = true;\n            entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n            this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n          } else {\n            forceHidden[touchingEntryId] = true;\n            hiddenEntries.push(touchingEntry);\n          }\n        }\n      }\n      return _get(_getPrototypeOf(DayGridSegHierarchy.prototype), \"handleInvalidInsertion\", this).call(this, insertion, entry, hiddenEntries);\n    }\n  }]);\n  return DayGridSegHierarchy;\n}(SegHierarchy);\nvar TableRow = /*#__PURE__*/function (_DateComponent2) {\n  _inherits(TableRow, _DateComponent2);\n  var _super6 = _createSuper(TableRow);\n  function TableRow() {\n    var _this5;\n    _classCallCheck(this, TableRow);\n    _this5 = _super6.apply(this, arguments);\n    _this5.cellElRefs = new RefMap(); // the <td>\n    _this5.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n    _this5.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n    _this5.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n    _this5.rootElRef = createRef();\n    _this5.state = {\n      framePositions: null,\n      maxContentHeight: null,\n      eventInstanceHeights: {}\n    };\n    _this5.handleResize = function (isForced) {\n      if (isForced) {\n        _this5.updateSizing(true); // isExternal=true\n      }\n    };\n    return _this5;\n  }\n  _createClass(TableRow, [{\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n      var props = this.props,\n        state = this.state,\n        context = this.context;\n      var options = context.options;\n      var colCnt = props.cells.length;\n      var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n      var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n      var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n      var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n      var _computeFgSegPlacemen = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells),\n        singleColPlacements = _computeFgSegPlacemen.singleColPlacements,\n        multiColPlacements = _computeFgSegPlacemen.multiColPlacements,\n        moreCnts = _computeFgSegPlacemen.moreCnts,\n        moreMarginTops = _computeFgSegPlacemen.moreMarginTops;\n      var isForcedInvisible =\n      // TODO: messy way to compute this\n      props.eventDrag && props.eventDrag.affectedInstances || props.eventResize && props.eventResize.affectedInstances || {};\n      return createElement(\"tr\", {\n        ref: this.rootElRef,\n        role: \"row\"\n      }, props.renderIntro && props.renderIntro(), props.cells.map(function (cell, col) {\n        var normalFgNodes = _this6.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n        var mirrorFgNodes = _this6.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n        return createElement(TableCell, {\n          key: cell.key,\n          elRef: _this6.cellElRefs.createRef(cell.key),\n          innerElRef: _this6.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */,\n          dateProfile: props.dateProfile,\n          date: cell.date,\n          showDayNumber: props.showDayNumbers,\n          showWeekNumber: props.showWeekNumbers && col === 0,\n          forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */,\n          todayRange: props.todayRange,\n          eventSelection: props.eventSelection,\n          eventDrag: props.eventDrag,\n          eventResize: props.eventResize,\n          extraRenderProps: cell.extraRenderProps,\n          extraDataAttrs: cell.extraDataAttrs,\n          extraClassNames: cell.extraClassNames,\n          extraDateSpan: cell.extraDateSpan,\n          moreCnt: moreCnts[col],\n          moreMarginTop: moreMarginTops[col],\n          singlePlacements: singleColPlacements[col],\n          fgContentElRef: _this6.fgElRefs.createRef(cell.key),\n          fgContent:\n          // Fragment scopes the keys\n          createElement(Fragment, null, createElement(Fragment, null, normalFgNodes), createElement(Fragment, null, mirrorFgNodes)),\n          bgContent:\n          // Fragment scopes the keys\n          createElement(Fragment, null, _this6.renderFillSegs(highlightSegsByCol[col], 'highlight'), _this6.renderFillSegs(businessHoursByCol[col], 'non-business'), _this6.renderFillSegs(bgEventSegsByCol[col], 'bg-event')),\n          minHeight: props.cellMinHeight\n        });\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateSizing(true);\n      this.context.addResizeHandler(this.handleResize);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var currentProps = this.props;\n      this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.context.removeResizeHandler(this.handleResize);\n    }\n  }, {\n    key: \"getHighlightSegs\",\n    value: function getHighlightSegs() {\n      var props = this.props;\n      if (props.eventDrag && props.eventDrag.segs.length) {\n        // messy check\n        return props.eventDrag.segs;\n      }\n      if (props.eventResize && props.eventResize.segs.length) {\n        // messy check\n        return props.eventResize.segs;\n      }\n      return props.dateSelectionSegs;\n    }\n  }, {\n    key: \"getMirrorSegs\",\n    value: function getMirrorSegs() {\n      var props = this.props;\n      if (props.eventResize && props.eventResize.segs.length) {\n        // messy check\n        return props.eventResize.segs;\n      }\n      return [];\n    }\n  }, {\n    key: \"renderFgSegs\",\n    value: function renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n      var context = this.context;\n      var eventSelection = this.props.eventSelection;\n      var framePositions = this.state.framePositions;\n      var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n      var isMirror = isDragging || isResizing || isDateSelecting;\n      var nodes = [];\n      if (framePositions) {\n        var _iterator9 = _createForOfIteratorHelper(segPlacements),\n          _step9;\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var placement = _step9.value;\n            var seg = placement.seg;\n            var instanceId = seg.eventRange.instance.instanceId;\n            var key = instanceId + ':' + col;\n            var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n            var isAbsolute = placement.isAbsolute;\n            var left = '';\n            var right = '';\n            if (isAbsolute) {\n              if (context.isRtl) {\n                right = 0;\n                left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n              } else {\n                left = 0;\n                right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n              }\n            }\n            /*\r\n            known bug: events that are force to be list-item but span multiple days still take up space in later columns\r\n            todo: in print view, for multi-day events, don't display title within non-start/end segs\r\n            */\n            nodes.push(createElement(\"div\", {\n              className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''),\n              key: key,\n              ref: isMirror ? null : this.segHarnessRefs.createRef(key),\n              style: {\n                visibility: isVisible ? '' : 'hidden',\n                marginTop: isAbsolute ? '' : placement.marginTop,\n                top: isAbsolute ? placement.absoluteTop : '',\n                left: left,\n                right: right\n              }\n            }, hasListItemDisplay(seg) ? createElement(TableListItemEvent, Object.assign({\n              seg: seg,\n              isDragging: isDragging,\n              isSelected: instanceId === eventSelection,\n              defaultDisplayEventEnd: defaultDisplayEventEnd\n            }, getSegMeta(seg, todayRange))) : createElement(TableBlockEvent, Object.assign({\n              seg: seg,\n              isDragging: isDragging,\n              isResizing: isResizing,\n              isDateSelecting: isDateSelecting,\n              isSelected: instanceId === eventSelection,\n              defaultDisplayEventEnd: defaultDisplayEventEnd\n            }, getSegMeta(seg, todayRange)))));\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n      }\n      return nodes;\n    }\n  }, {\n    key: \"renderFillSegs\",\n    value: function renderFillSegs(segs, fillType) {\n      var isRtl = this.context.isRtl;\n      var todayRange = this.props.todayRange;\n      var framePositions = this.state.framePositions;\n      var nodes = [];\n      if (framePositions) {\n        var _iterator10 = _createForOfIteratorHelper(segs),\n          _step10;\n        try {\n          for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n            var seg = _step10.value;\n            var leftRightCss = isRtl ? {\n              right: 0,\n              left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol]\n            } : {\n              left: 0,\n              right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol]\n            };\n            nodes.push(createElement(\"div\", {\n              key: buildEventRangeKey(seg.eventRange),\n              className: \"fc-daygrid-bg-harness\",\n              style: leftRightCss\n            }, fillType === 'bg-event' ? createElement(BgEvent, Object.assign({\n              seg: seg\n            }, getSegMeta(seg, todayRange))) : renderFill(fillType)));\n          }\n        } catch (err) {\n          _iterator10.e(err);\n        } finally {\n          _iterator10.f();\n        }\n      }\n      return createElement.apply(void 0, [Fragment, {}].concat(nodes));\n    }\n  }, {\n    key: \"updateSizing\",\n    value: function updateSizing(isExternalSizingChange) {\n      var props = this.props,\n        state = this.state,\n        frameElRefs = this.frameElRefs;\n      if (!props.forPrint && props.clientWidth !== null // positioning ready?\n      ) {\n        if (isExternalSizingChange) {\n          var frameEls = props.cells.map(function (cell) {\n            return frameElRefs.currentMap[cell.key];\n          });\n          if (frameEls.length) {\n            var originEl = this.rootElRef.current;\n            var newPositionCache = new PositionCache(originEl, frameEls, true,\n            // isHorizontal\n            false);\n            if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n              this.setState({\n                framePositions: new PositionCache(originEl, frameEls, true,\n                // isHorizontal\n                false)\n              });\n            }\n          }\n        }\n        var oldInstanceHeights = this.state.eventInstanceHeights;\n        var newInstanceHeights = this.queryEventInstanceHeights();\n        var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n        this.safeSetState({\n          // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n          // Essentially, once you compute an element's height, never null-out.\n          // TODO: always display all events, as visibility:hidden?\n          eventInstanceHeights: Object.assign(Object.assign({}, oldInstanceHeights), newInstanceHeights),\n          maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null\n        });\n      }\n    }\n  }, {\n    key: \"queryEventInstanceHeights\",\n    value: function queryEventInstanceHeights() {\n      var segElMap = this.segHarnessRefs.currentMap;\n      var eventInstanceHeights = {};\n      // get the max height amongst instance segs\n      for (var key in segElMap) {\n        var height = Math.round(segElMap[key].getBoundingClientRect().height);\n        var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n        eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n      }\n      return eventInstanceHeights;\n    }\n  }, {\n    key: \"computeMaxContentHeight\",\n    value: function computeMaxContentHeight() {\n      var firstKey = this.props.cells[0].key;\n      var cellEl = this.cellElRefs.currentMap[firstKey];\n      var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n      return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n  }, {\n    key: \"getCellEls\",\n    value: function getCellEls() {\n      var elMap = this.cellElRefs.currentMap;\n      return this.props.cells.map(function (cell) {\n        return elMap[cell.key];\n      });\n    }\n  }]);\n  return TableRow;\n}(DateComponent);\nTableRow.addStateEquality({\n  eventInstanceHeights: isPropsEqual\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n  if (!mirrorSegs.length) {\n    return [];\n  }\n  var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n  return mirrorSegs.map(function (seg) {\n    return {\n      seg: seg,\n      isVisible: true,\n      isAbsolute: true,\n      absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n      marginTop: 0\n    };\n  });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n  var topsByInstanceId = {};\n  var _iterator11 = _createForOfIteratorHelper(colPlacements),\n    _step11;\n  try {\n    for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n      var placements = _step11.value;\n      var _iterator12 = _createForOfIteratorHelper(placements),\n        _step12;\n      try {\n        for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n          var placement = _step12.value;\n          topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n      } catch (err) {\n        _iterator12.e(err);\n      } finally {\n        _iterator12.f();\n      }\n    }\n  } catch (err) {\n    _iterator11.e(err);\n  } finally {\n    _iterator11.f();\n  }\n  return topsByInstanceId;\n}\nvar TableRows = /*#__PURE__*/function (_DateComponent3) {\n  _inherits(TableRows, _DateComponent3);\n  var _super7 = _createSuper(TableRows);\n  function TableRows() {\n    var _this7;\n    _classCallCheck(this, TableRows);\n    _this7 = _super7.apply(this, arguments);\n    _this7.splitBusinessHourSegs = memoize(splitSegsByRow);\n    _this7.splitBgEventSegs = memoize(splitSegsByRow);\n    _this7.splitFgEventSegs = memoize(splitSegsByRow);\n    _this7.splitDateSelectionSegs = memoize(splitSegsByRow);\n    _this7.splitEventDrag = memoize(splitInteractionByRow);\n    _this7.splitEventResize = memoize(splitInteractionByRow);\n    _this7.rowRefs = new RefMap();\n    return _this7;\n  }\n  _createClass(TableRows, [{\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n      var props = this.props,\n        context = this.context;\n      var rowCnt = props.cells.length;\n      var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n      var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n      var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n      var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n      var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n      var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n      // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n      // choose 7 because a month view will have max 6 rows\n      var cellMinHeight = rowCnt >= 7 && props.clientWidth ? props.clientWidth / context.options.aspectRatio / 6 : null;\n      return createElement(NowTimer, {\n        unit: \"day\"\n      }, function (nowDate, todayRange) {\n        return createElement(Fragment, null, props.cells.map(function (cells, row) {\n          return createElement(TableRow, {\n            ref: _this8.rowRefs.createRef(row),\n            key: cells.length ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */ : row // in case there are no cells (like when resource view is loading)\n            ,\n            showDayNumbers: rowCnt > 1,\n            showWeekNumbers: props.showWeekNumbers,\n            todayRange: todayRange,\n            dateProfile: props.dateProfile,\n            cells: cells,\n            renderIntro: props.renderRowIntro,\n            businessHourSegs: businessHourSegsByRow[row],\n            eventSelection: props.eventSelection,\n            bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */,\n            fgEventSegs: fgEventSegsByRow[row],\n            dateSelectionSegs: dateSelectionSegsByRow[row],\n            eventDrag: eventDragByRow[row],\n            eventResize: eventResizeByRow[row],\n            dayMaxEvents: props.dayMaxEvents,\n            dayMaxEventRows: props.dayMaxEventRows,\n            clientWidth: props.clientWidth,\n            clientHeight: props.clientHeight,\n            cellMinHeight: cellMinHeight,\n            forPrint: props.forPrint\n          });\n        }));\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // HACK: need a daygrid wrapper parent to do positioning\n      // NOTE: a daygrid resource view w/o resources can have zero cells\n      var firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n      this.rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n      if (this.rootEl) {\n        this.context.registerInteractiveComponent(this, {\n          el: this.rootEl,\n          isHitComboAllowed: this.props.isHitComboAllowed\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.rootEl) {\n        this.context.unregisterInteractiveComponent(this);\n        this.rootEl = null;\n      }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n  }, {\n    key: \"prepareHits\",\n    value: function prepareHits() {\n      this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) {\n        return rowObj.getCellEls()[0];\n      }),\n      // first cell el in each row. TODO: not optimal\n      false, true);\n      this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(),\n      // cell els in first row\n      true,\n      // horizontal\n      false);\n    }\n  }, {\n    key: \"queryHit\",\n    value: function queryHit(positionLeft, positionTop) {\n      var colPositions = this.colPositions,\n        rowPositions = this.rowPositions;\n      var col = colPositions.leftToIndex(positionLeft);\n      var row = rowPositions.topToIndex(positionTop);\n      if (row != null && col != null) {\n        var cell = this.props.cells[row][col];\n        return {\n          dateProfile: this.props.dateProfile,\n          dateSpan: Object.assign({\n            range: this.getCellRange(row, col),\n            allDay: true\n          }, cell.extraDateSpan),\n          dayEl: this.getCellEl(row, col),\n          rect: {\n            left: colPositions.lefts[col],\n            right: colPositions.rights[col],\n            top: rowPositions.tops[row],\n            bottom: rowPositions.bottoms[row]\n          },\n          layer: 0\n        };\n      }\n      return null;\n    }\n  }, {\n    key: \"getCellEl\",\n    value: function getCellEl(row, col) {\n      return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n  }, {\n    key: \"getCellRange\",\n    value: function getCellRange(row, col) {\n      var start = this.props.cells[row][col].date;\n      var end = addDays(start, 1);\n      return {\n        start: start,\n        end: end\n      };\n    }\n  }]);\n  return TableRows;\n}(DateComponent);\nfunction isSegAllDay(seg) {\n  return seg.eventRange.def.allDay;\n}\nvar Table = /*#__PURE__*/function (_DateComponent4) {\n  _inherits(Table, _DateComponent4);\n  var _super8 = _createSuper(Table);\n  function Table() {\n    var _this9;\n    _classCallCheck(this, Table);\n    _this9 = _super8.apply(this, arguments);\n    _this9.elRef = createRef();\n    _this9.needsScrollReset = false;\n    return _this9;\n  }\n  _createClass(Table, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props;\n      var dayMaxEventRows = props.dayMaxEventRows,\n        dayMaxEvents = props.dayMaxEvents,\n        expandRows = props.expandRows;\n      var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n      // if rows can't expand to fill fixed height, can't do balanced-height event limit\n      // TODO: best place to normalize these options?\n      if (limitViaBalanced && !expandRows) {\n        limitViaBalanced = false;\n        dayMaxEventRows = null;\n        dayMaxEvents = null;\n      }\n      var classNames = ['fc-daygrid-body', limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced', expandRows ? '' : 'fc-daygrid-body-natural' // will height of one row depend on the others?\n      ];\n\n      return createElement(\"div\", {\n        ref: this.elRef,\n        className: classNames.join(' '),\n        style: {\n          // these props are important to give this wrapper correct dimensions for interactions\n          // TODO: if we set it here, can we avoid giving to inner tables?\n          width: props.clientWidth,\n          minWidth: props.tableMinWidth\n        }\n      }, createElement(\"table\", {\n        role: \"presentation\",\n        className: \"fc-scrollgrid-sync-table\",\n        style: {\n          width: props.clientWidth,\n          minWidth: props.tableMinWidth,\n          height: expandRows ? props.clientHeight : ''\n        }\n      }, props.colGroupNode, createElement(\"tbody\", {\n        role: \"presentation\"\n      }, createElement(TableRows, {\n        dateProfile: props.dateProfile,\n        cells: props.cells,\n        renderRowIntro: props.renderRowIntro,\n        showWeekNumbers: props.showWeekNumbers,\n        clientWidth: props.clientWidth,\n        clientHeight: props.clientHeight,\n        businessHourSegs: props.businessHourSegs,\n        bgEventSegs: props.bgEventSegs,\n        fgEventSegs: props.fgEventSegs,\n        dateSelectionSegs: props.dateSelectionSegs,\n        eventSelection: props.eventSelection,\n        eventDrag: props.eventDrag,\n        eventResize: props.eventResize,\n        dayMaxEvents: dayMaxEvents,\n        dayMaxEventRows: dayMaxEventRows,\n        forPrint: props.forPrint,\n        isHitComboAllowed: props.isHitComboAllowed\n      }))));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.requestScrollReset();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.dateProfile !== this.props.dateProfile) {\n        this.requestScrollReset();\n      } else {\n        this.flushScrollReset();\n      }\n    }\n  }, {\n    key: \"requestScrollReset\",\n    value: function requestScrollReset() {\n      this.needsScrollReset = true;\n      this.flushScrollReset();\n    }\n  }, {\n    key: \"flushScrollReset\",\n    value: function flushScrollReset() {\n      if (this.needsScrollReset && this.props.clientWidth // sizes computed?\n      ) {\n        var subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n        if (subjectEl) {\n          var originEl = subjectEl.closest('.fc-daygrid-body');\n          var scrollEl = originEl.closest('.fc-scroller');\n          var scrollTop = subjectEl.getBoundingClientRect().top - originEl.getBoundingClientRect().top;\n          scrollEl.scrollTop = scrollTop ? scrollTop + 1 : 0; // overcome border\n        }\n\n        this.needsScrollReset = false;\n      }\n    }\n  }]);\n  return Table;\n}(DateComponent);\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n  var el;\n  if (dateProfile.currentRangeUnit.match(/year|month/)) {\n    el = containerEl.querySelector(\"[data-date=\\\"\".concat(formatIsoMonthStr(dateProfile.currentDate), \"-01\\\"]\"));\n    // even if view is month-based, first-of-month might be hidden...\n  }\n\n  if (!el) {\n    el = containerEl.querySelector(\"[data-date=\\\"\".concat(formatDayString(dateProfile.currentDate), \"\\\"]\"));\n    // could still be hidden if an interior-view hidden day\n  }\n\n  return el;\n}\nvar DayTableSlicer = /*#__PURE__*/function (_Slicer) {\n  _inherits(DayTableSlicer, _Slicer);\n  var _super9 = _createSuper(DayTableSlicer);\n  function DayTableSlicer() {\n    var _this10;\n    _classCallCheck(this, DayTableSlicer);\n    _this10 = _super9.apply(this, arguments);\n    _this10.forceDayIfListItem = true;\n    return _this10;\n  }\n  _createClass(DayTableSlicer, [{\n    key: \"sliceRange\",\n    value: function sliceRange(dateRange, dayTableModel) {\n      return dayTableModel.sliceRange(dateRange);\n    }\n  }]);\n  return DayTableSlicer;\n}(Slicer);\nvar DayTable = /*#__PURE__*/function (_DateComponent5) {\n  _inherits(DayTable, _DateComponent5);\n  var _super10 = _createSuper(DayTable);\n  function DayTable() {\n    var _this11;\n    _classCallCheck(this, DayTable);\n    _this11 = _super10.apply(this, arguments);\n    _this11.slicer = new DayTableSlicer();\n    _this11.tableRef = createRef();\n    return _this11;\n  }\n  _createClass(DayTable, [{\n    key: \"render\",\n    value: function render() {\n      var props = this.props,\n        context = this.context;\n      return createElement(Table, Object.assign({\n        ref: this.tableRef\n      }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), {\n        dateProfile: props.dateProfile,\n        cells: props.dayTableModel.cells,\n        colGroupNode: props.colGroupNode,\n        tableMinWidth: props.tableMinWidth,\n        renderRowIntro: props.renderRowIntro,\n        dayMaxEvents: props.dayMaxEvents,\n        dayMaxEventRows: props.dayMaxEventRows,\n        showWeekNumbers: props.showWeekNumbers,\n        expandRows: props.expandRows,\n        headerAlignElRef: props.headerAlignElRef,\n        clientWidth: props.clientWidth,\n        clientHeight: props.clientHeight,\n        forPrint: props.forPrint\n      }));\n    }\n  }]);\n  return DayTable;\n}(DateComponent);\nvar TableDateProfileGenerator = /*#__PURE__*/function (_DateProfileGenerator) {\n  _inherits(TableDateProfileGenerator, _DateProfileGenerator);\n  var _super11 = _createSuper(TableDateProfileGenerator);\n  function TableDateProfileGenerator() {\n    _classCallCheck(this, TableDateProfileGenerator);\n    return _super11.apply(this, arguments);\n  }\n  _createClass(TableDateProfileGenerator, [{\n    key: \"buildRenderRange\",\n    value:\n    // Computes the date range that will be rendered\n    function buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n      var renderRange = _get(_getPrototypeOf(TableDateProfileGenerator.prototype), \"buildRenderRange\", this).call(this, currentRange, currentRangeUnit, isRangeAllDay);\n      var props = this.props;\n      return buildDayTableRenderRange({\n        currentRange: renderRange,\n        snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n        fixedWeekCount: props.fixedWeekCount,\n        dateEnv: props.dateEnv\n      });\n    }\n  }]);\n  return TableDateProfileGenerator;\n}(DateProfileGenerator);\nfunction buildDayTableRenderRange(props) {\n  var dateEnv = props.dateEnv,\n    currentRange = props.currentRange;\n  var start = currentRange.start,\n    end = currentRange.end;\n  var endOfWeek;\n  // year and month views should be aligned with weeks. this is already done for week\n  if (props.snapToWeek) {\n    start = dateEnv.startOfWeek(start);\n    // make end-of-week if not already\n    endOfWeek = dateEnv.startOfWeek(end);\n    if (endOfWeek.valueOf() !== end.valueOf()) {\n      end = addWeeks(endOfWeek, 1);\n    }\n  }\n  // ensure 6 weeks\n  if (props.fixedWeekCount) {\n    // TODO: instead of these date-math gymnastics (for multimonth view),\n    // compute dateprofiles of all months, then use start of first and end of last.\n    var lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n    var rowCnt = Math.ceil(\n    // could be partial weeks due to hiddenDays\n    diffWeeks(lastMonthRenderStart, end));\n    end = addWeeks(end, 6 - rowCnt);\n  }\n  return {\n    start: start,\n    end: end\n  };\n}\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\r\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /*#__PURE__*/function (_DateComponent6) {\n  _inherits(TableView, _DateComponent6);\n  var _super12 = _createSuper(TableView);\n  function TableView() {\n    var _this12;\n    _classCallCheck(this, TableView);\n    _this12 = _super12.apply(this, arguments);\n    _this12.headerElRef = createRef();\n    return _this12;\n  }\n  _createClass(TableView, [{\n    key: \"renderSimpleLayout\",\n    value: function renderSimpleLayout(headerRowContent, bodyContent) {\n      var props = this.props,\n        context = this.context;\n      var sections = [];\n      var stickyHeaderDates = getStickyHeaderDates(context.options);\n      if (headerRowContent) {\n        sections.push({\n          type: 'header',\n          key: 'header',\n          isSticky: stickyHeaderDates,\n          chunk: {\n            elRef: this.headerElRef,\n            tableClassName: 'fc-col-header',\n            rowContent: headerRowContent\n          }\n        });\n      }\n      sections.push({\n        type: 'body',\n        key: 'body',\n        liquid: true,\n        chunk: {\n          content: bodyContent\n        }\n      });\n      return createElement(ViewContainer, {\n        elClasses: ['fc-daygrid'],\n        viewSpec: context.viewSpec\n      }, createElement(SimpleScrollGrid, {\n        liquid: !props.isHeightAuto && !props.forPrint,\n        collapsibleWidth: props.forPrint,\n        cols: [] /* TODO: make optional? */,\n        sections: sections\n      }));\n    }\n  }, {\n    key: \"renderHScrollLayout\",\n    value: function renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n      var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n      if (!ScrollGrid) {\n        throw new Error('No ScrollGrid implementation');\n      }\n      var props = this.props,\n        context = this.context;\n      var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n      var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n      var sections = [];\n      if (headerRowContent) {\n        sections.push({\n          type: 'header',\n          key: 'header',\n          isSticky: stickyHeaderDates,\n          chunks: [{\n            key: 'main',\n            elRef: this.headerElRef,\n            tableClassName: 'fc-col-header',\n            rowContent: headerRowContent\n          }]\n        });\n      }\n      sections.push({\n        type: 'body',\n        key: 'body',\n        liquid: true,\n        chunks: [{\n          key: 'main',\n          content: bodyContent\n        }]\n      });\n      if (stickyFooterScrollbar) {\n        sections.push({\n          type: 'footer',\n          key: 'footer',\n          isSticky: true,\n          chunks: [{\n            key: 'main',\n            content: renderScrollShim\n          }]\n        });\n      }\n      return createElement(ViewContainer, {\n        elClasses: ['fc-daygrid'],\n        viewSpec: context.viewSpec\n      }, createElement(ScrollGrid, {\n        liquid: !props.isHeightAuto && !props.forPrint,\n        forPrint: props.forPrint,\n        collapsibleWidth: props.forPrint,\n        colGroups: [{\n          cols: [{\n            span: colCnt,\n            minWidth: dayMinWidth\n          }]\n        }],\n        sections: sections\n      }));\n    }\n  }]);\n  return TableView;\n}(DateComponent);\nvar DayTableView = /*#__PURE__*/function (_TableView) {\n  _inherits(DayTableView, _TableView);\n  var _super13 = _createSuper(DayTableView);\n  function DayTableView() {\n    var _this13;\n    _classCallCheck(this, DayTableView);\n    _this13 = _super13.apply(this, arguments);\n    _this13.buildDayTableModel = memoize(buildDayTableModel);\n    _this13.headerRef = createRef();\n    _this13.tableRef = createRef();\n    // can't override any lifecycle methods from parent\n    return _this13;\n  }\n  _createClass(DayTableView, [{\n    key: \"render\",\n    value: function render() {\n      var _this14 = this;\n      var _this$context = this.context,\n        options = _this$context.options,\n        dateProfileGenerator = _this$context.dateProfileGenerator;\n      var props = this.props;\n      var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n      var headerContent = options.dayHeaders && createElement(DayHeader, {\n        ref: this.headerRef,\n        dateProfile: props.dateProfile,\n        dates: dayTableModel.headerDates,\n        datesRepDistinctDays: dayTableModel.rowCnt === 1\n      });\n      var bodyContent = function bodyContent(contentArg) {\n        return createElement(DayTable, {\n          ref: _this14.tableRef,\n          dateProfile: props.dateProfile,\n          dayTableModel: dayTableModel,\n          businessHours: props.businessHours,\n          dateSelection: props.dateSelection,\n          eventStore: props.eventStore,\n          eventUiBases: props.eventUiBases,\n          eventSelection: props.eventSelection,\n          eventDrag: props.eventDrag,\n          eventResize: props.eventResize,\n          nextDayThreshold: options.nextDayThreshold,\n          colGroupNode: contentArg.tableColGroupNode,\n          tableMinWidth: contentArg.tableMinWidth,\n          dayMaxEvents: options.dayMaxEvents,\n          dayMaxEventRows: options.dayMaxEventRows,\n          showWeekNumbers: options.weekNumbers,\n          expandRows: !props.isHeightAuto,\n          headerAlignElRef: _this14.headerElRef,\n          clientWidth: contentArg.clientWidth,\n          clientHeight: contentArg.clientHeight,\n          forPrint: props.forPrint\n        });\n      };\n      return options.dayMinWidth ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth) : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n  }]);\n  return DayTableView;\n}(TableView);\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n  var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n  return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };","map":{"version":3,"names":["injectStyles","createFormatter","BaseComponent","StandardEvent","buildSegTimeText","EventContainer","getSegAnchorAttrs","memoize","MoreLinkContainer","getSegMeta","DateComponent","getUniqueDomId","setRef","DayCellContainer","WeekNumberContainer","buildNavLinkAttrs","hasCustomDayCellContent","addMs","intersectRanges","addDays","SegHierarchy","buildEntryKey","intersectSpans","RefMap","sortEventSegs","isPropsEqual","buildEventRangeKey","BgEvent","renderFill","PositionCache","NowTimer","formatIsoMonthStr","formatDayString","Slicer","DateProfileGenerator","addWeeks","diffWeeks","getStickyHeaderDates","ViewContainer","SimpleScrollGrid","getStickyFooterScrollbar","renderScrollShim","DayHeader","DaySeriesModel","DayTableModel","createElement","Fragment","createRef","css_248z","splitSegsByRow","segs","rowCnt","byRow","i","_iterator","_createForOfIteratorHelper","_step","s","n","done","seg","value","row","push","err","e","f","splitSegsByFirstCol","colCnt","byCol","_iterator2","_step2","firstCol","splitInteractionByRow","ui","affectedInstances","isEvent","_iterator3","_step3","DEFAULT_TABLE_EVENT_TIME_FORMAT","hour","minute","omitZeroMinute","meridiem","hasListItemDisplay","display","eventRange","def","allDay","lastCol","isStart","isEnd","TableBlockEvent","_BaseComponent","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","render","props","Object","assign","elClasses","defaultTimeFormat","defaultDisplayEventEnd","disableResizing","TableListItemEvent","_BaseComponent2","_super2","context","options","timeFormat","eventTimeFormat","timeText","elTag","elAttrs","defaultGenerator","renderInnerContent","isResizing","isDateSelecting","renderProps","className","style","borderColor","backgroundColor","event","title","TableCellMoreLink","_BaseComponent3","_super3","_this","compileSegs","_this$compileSegs","singlePlacements","allSegs","invisibleSegs","dateProfile","todayRange","allDayDate","moreCnt","hiddenSegs","alignmentElRef","alignGridTop","extraDateSpan","popoverContent","isForcedInvisible","eventDrag","eventResize","map","instanceId","instance","visibility","isDragging","isSelected","eventSelection","_iterator4","_step4","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","week","TableCell","_DateComponent","_super4","_this2","rootElRef","state","dayNumberId","handleRootEl","el","elRef","dateEnv","date","isMonthStart","showDayNumber","shouldDisplayMonthStart","currentRange","concat","_toConsumableArray","extraClassNames","extraDataAttrs","role","renderTopInner","extraRenderProps","InnerContent","ref","innerElRef","minHeight","showWeekNumber","defaultFormat","isDisabled","forceDayTop","id","undefined","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","dayNumberText","currentStart","start","currentEnd","end","currentEndIncl","currentFirstYear","getYear","currentFirstMonth","getMonth","currentLastYear","currentLastMonth","Boolean","valueOf","getDay","computeFgSegPlacement","dayMaxEvents","dayMaxEventRows","strictOrder","eventInstanceHeights","maxContentHeight","cells","hierarchy","DayGridSegHierarchy","allowReslicing","maxCoord","hiddenConsumes","maxStackCnt","segInputs","unknownHeightSegs","length","eventHeight","index","thickness","span","hiddenEntries","addSegs","segRects","toRects","_placeRects","placeRects","singleColPlacements","multiColPlacements","leftoverMargins","moreCnts","moreMarginTops","_i2","_unknownHeightSegs","isAbsolute","absoluteTop","col","resliceSeg","_iterator5","_step5","hiddenEntry","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","rects","currentHeight","currentMarginTop","_iterator6","_step6","rect","levelCoord","multiPlacements","_iterator7","_step7","isFirstCol","_iterator8","_step8","spanStart","spanEnd","origRange","range","slicedRange","durationEditable","_SegHierarchy","_super5","_this3","forceHidden","_this4","_get","_getPrototypeOf","prototype","call","entriesByLevel","excludeHidden","entry","level","filter","handleInvalidInsertion","insertion","touchingEntry","touchingLevel","touchingLateral","touchingEntryId","placeholderEntry","placeholderEntryId","splitEntry","TableRow","_DateComponent2","_super6","_this5","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","handleResize","isForced","updateSizing","_this6","businessHoursByCol","businessHourSegs","bgEventSegsByCol","bgEventSegs","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","_computeFgSegPlacemen","fgEventSegs","eventOrder","eventOrderStrict","renderIntro","cell","normalFgNodes","renderFgSegs","forPrint","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","componentDidMount","addResizeHandler","componentDidUpdate","prevProps","prevState","currentProps","componentWillUnmount","removeResizeHandler","dateSelectionSegs","segPlacements","isMirror","nodes","_iterator9","_step9","left","right","isRtl","lefts","rights","top","fillType","_iterator10","_step10","leftRightCss","isExternalSizingChange","clientWidth","frameEls","currentMap","originEl","current","newPositionCache","similarTo","setState","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","safeSetState","computeMaxContentHeight","segElMap","height","Math","round","getBoundingClientRect","split","max","firstKey","cellEl","fcContainerEl","bottom","getCellEls","elMap","addStateEquality","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","_iterator11","_step11","placements","_iterator12","_step12","TableRows","_DateComponent3","_super7","_this7","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","splitEventDrag","splitEventResize","rowRefs","_this8","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","aspectRatio","unit","nowDate","toISOString","renderRowIntro","isSegAllDay","clientHeight","firstCellEl","rootEl","closest","registerInteractiveComponent","isHitComboAllowed","unregisterInteractiveComponent","prepareHits","rowPositions","collect","rowObj","colPositions","queryHit","positionLeft","positionTop","leftToIndex","topToIndex","dateSpan","getCellRange","dayEl","getCellEl","tops","bottoms","layer","Table","_DateComponent4","_super8","_this9","needsScrollReset","expandRows","limitViaBalanced","classNames","join","width","minWidth","tableMinWidth","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","getScrollSubjectEl","scrollEl","scrollTop","containerEl","currentRangeUnit","match","querySelector","currentDate","DayTableSlicer","_Slicer","_super9","_this10","forceDayIfListItem","sliceRange","dateRange","dayTableModel","DayTable","_DateComponent5","_super10","_this11","slicer","tableRef","sliceProps","nextDayThreshold","headerAlignElRef","TableDateProfileGenerator","_DateProfileGenerator","_super11","buildRenderRange","isRangeAllDay","renderRange","buildDayTableRenderRange","snapToWeek","test","fixedWeekCount","endOfWeek","startOfWeek","lastMonthRenderStart","startOfMonth","ceil","TableView","_DateComponent6","_super12","_this12","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","sections","stickyHeaderDates","type","isSticky","chunk","tableClassName","rowContent","liquid","content","viewSpec","isHeightAuto","collapsibleWidth","cols","renderHScrollLayout","dayMinWidth","ScrollGrid","pluginHooks","scrollGridImpl","Error","stickyFooterScrollbar","chunks","colGroups","DayTableView","_TableView","_super13","_this13","buildDayTableModel","headerRef","_this14","_this$context","dateProfileGenerator","headerContent","dayHeaders","dates","headerDates","datesRepDistinctDays","contentArg","businessHours","dateSelection","eventStore","eventUiBases","tableColGroupNode","weekNumbers","daySeries","DayGridView"],"sources":["C:/Users/ninay/Documents/capstone-499/Student-Central/student-central/node_modules/@fullcalendar/daygrid/internal.js"],"sourcesContent":["import { injectStyles, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, DateComponent, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DateProfileGenerator, addWeeks, diffWeeks, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DayHeader, DaySeriesModel, DayTableModel } from '@fullcalendar/core/internal.js';\r\nimport { createElement, Fragment, createRef } from '@fullcalendar/core/preact.js';\r\n\r\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\r\ninjectStyles(css_248z);\r\n\r\nfunction splitSegsByRow(segs, rowCnt) {\r\n    let byRow = [];\r\n    for (let i = 0; i < rowCnt; i += 1) {\r\n        byRow[i] = [];\r\n    }\r\n    for (let seg of segs) {\r\n        byRow[seg.row].push(seg);\r\n    }\r\n    return byRow;\r\n}\r\nfunction splitSegsByFirstCol(segs, colCnt) {\r\n    let byCol = [];\r\n    for (let i = 0; i < colCnt; i += 1) {\r\n        byCol[i] = [];\r\n    }\r\n    for (let seg of segs) {\r\n        byCol[seg.firstCol].push(seg);\r\n    }\r\n    return byCol;\r\n}\r\nfunction splitInteractionByRow(ui, rowCnt) {\r\n    let byRow = [];\r\n    if (!ui) {\r\n        for (let i = 0; i < rowCnt; i += 1) {\r\n            byRow[i] = null;\r\n        }\r\n    }\r\n    else {\r\n        for (let i = 0; i < rowCnt; i += 1) {\r\n            byRow[i] = {\r\n                affectedInstances: ui.affectedInstances,\r\n                isEvent: ui.isEvent,\r\n                segs: [],\r\n            };\r\n        }\r\n        for (let seg of ui.segs) {\r\n            byRow[seg.row].segs.push(seg);\r\n        }\r\n    }\r\n    return byRow;\r\n}\r\n\r\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\r\n    hour: 'numeric',\r\n    minute: '2-digit',\r\n    omitZeroMinute: true,\r\n    meridiem: 'narrow',\r\n});\r\nfunction hasListItemDisplay(seg) {\r\n    let { display } = seg.eventRange.ui;\r\n    return display === 'list-item' || (display === 'auto' &&\r\n        !seg.eventRange.def.allDay &&\r\n        seg.firstCol === seg.lastCol && // can't be multi-day\r\n        seg.isStart && // \"\r\n        seg.isEnd // \"\r\n    );\r\n}\r\n\r\nclass TableBlockEvent extends BaseComponent {\r\n    render() {\r\n        let { props } = this;\r\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\r\n    }\r\n}\r\n\r\nclass TableListItemEvent extends BaseComponent {\r\n    render() {\r\n        let { props, context } = this;\r\n        let { options } = context;\r\n        let { seg } = props;\r\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\r\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\r\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\r\n    }\r\n}\r\nfunction renderInnerContent(renderProps) {\r\n    return (createElement(Fragment, null,\r\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\r\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\r\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\r\n}\r\n\r\nclass TableCellMoreLink extends BaseComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.compileSegs = memoize(compileSegs);\r\n    }\r\n    render() {\r\n        let { props } = this;\r\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\r\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\r\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\r\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\r\n                    {};\r\n                return (createElement(Fragment, null, allSegs.map((seg) => {\r\n                    let instanceId = seg.eventRange.instance.instanceId;\r\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\r\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\r\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\r\n                })));\r\n            } }));\r\n    }\r\n}\r\nfunction compileSegs(singlePlacements) {\r\n    let allSegs = [];\r\n    let invisibleSegs = [];\r\n    for (let placement of singlePlacements) {\r\n        allSegs.push(placement.seg);\r\n        if (!placement.isVisible) {\r\n            invisibleSegs.push(placement.seg);\r\n        }\r\n    }\r\n    return { allSegs, invisibleSegs };\r\n}\r\n\r\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\r\nclass TableCell extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.rootElRef = createRef();\r\n        this.state = {\r\n            dayNumberId: getUniqueDomId(),\r\n        };\r\n        this.handleRootEl = (el) => {\r\n            setRef(this.rootElRef, el);\r\n            setRef(this.props.elRef, el);\r\n        };\r\n    }\r\n    render() {\r\n        let { context, props, state, rootElRef } = this;\r\n        let { options, dateEnv } = context;\r\n        let { date, dateProfile } = props;\r\n        // TODO: memoize this?\r\n        const isMonthStart = props.showDayNumber &&\r\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\r\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\r\n                'fc-daygrid-day',\r\n                ...(props.extraClassNames || []),\r\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\r\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\r\n            !renderProps.isDisabled &&\r\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\r\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\r\n                        'fc-daygrid-day-number',\r\n                        isMonthStart && 'fc-daygrid-month-start',\r\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\r\n            // for creating correct amount of space (see issue #7162)\r\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\r\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\r\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\r\n                props.fgContent,\r\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\r\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\r\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\r\n    }\r\n}\r\nfunction renderTopInner(props) {\r\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\r\n}\r\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\r\n    const { start: currentStart, end: currentEnd } = currentRange;\r\n    const currentEndIncl = addMs(currentEnd, -1);\r\n    const currentFirstYear = dateEnv.getYear(currentStart);\r\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\r\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\r\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\r\n    // spans more than one month?\r\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\r\n        Boolean(\r\n        // first date in current view?\r\n        date.valueOf() === currentStart.valueOf() ||\r\n            // a month-start that's within the current range?\r\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\r\n}\r\n\r\nfunction computeFgSegPlacement(segs, // assumed already sorted\r\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\r\n    let hierarchy = new DayGridSegHierarchy();\r\n    hierarchy.allowReslicing = true;\r\n    hierarchy.strictOrder = strictOrder;\r\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\r\n        hierarchy.maxCoord = maxContentHeight;\r\n        hierarchy.hiddenConsumes = true;\r\n    }\r\n    else if (typeof dayMaxEvents === 'number') {\r\n        hierarchy.maxStackCnt = dayMaxEvents;\r\n    }\r\n    else if (typeof dayMaxEventRows === 'number') {\r\n        hierarchy.maxStackCnt = dayMaxEventRows;\r\n        hierarchy.hiddenConsumes = true;\r\n    }\r\n    // create segInputs only for segs with known heights\r\n    let segInputs = [];\r\n    let unknownHeightSegs = [];\r\n    for (let i = 0; i < segs.length; i += 1) {\r\n        let seg = segs[i];\r\n        let { instanceId } = seg.eventRange.instance;\r\n        let eventHeight = eventInstanceHeights[instanceId];\r\n        if (eventHeight != null) {\r\n            segInputs.push({\r\n                index: i,\r\n                thickness: eventHeight,\r\n                span: {\r\n                    start: seg.firstCol,\r\n                    end: seg.lastCol + 1,\r\n                },\r\n            });\r\n        }\r\n        else {\r\n            unknownHeightSegs.push(seg);\r\n        }\r\n    }\r\n    let hiddenEntries = hierarchy.addSegs(segInputs);\r\n    let segRects = hierarchy.toRects();\r\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\r\n    let moreCnts = [];\r\n    let moreMarginTops = [];\r\n    // add segs with unknown heights\r\n    for (let seg of unknownHeightSegs) {\r\n        multiColPlacements[seg.firstCol].push({\r\n            seg,\r\n            isVisible: false,\r\n            isAbsolute: true,\r\n            absoluteTop: 0,\r\n            marginTop: 0,\r\n        });\r\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\r\n            singleColPlacements[col].push({\r\n                seg: resliceSeg(seg, col, col + 1, cells),\r\n                isVisible: false,\r\n                isAbsolute: false,\r\n                absoluteTop: 0,\r\n                marginTop: 0,\r\n            });\r\n        }\r\n    }\r\n    // add the hidden entries\r\n    for (let col = 0; col < cells.length; col += 1) {\r\n        moreCnts.push(0);\r\n    }\r\n    for (let hiddenEntry of hiddenEntries) {\r\n        let seg = segs[hiddenEntry.index];\r\n        let hiddenSpan = hiddenEntry.span;\r\n        multiColPlacements[hiddenSpan.start].push({\r\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\r\n            isVisible: false,\r\n            isAbsolute: true,\r\n            absoluteTop: 0,\r\n            marginTop: 0,\r\n        });\r\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\r\n            moreCnts[col] += 1;\r\n            singleColPlacements[col].push({\r\n                seg: resliceSeg(seg, col, col + 1, cells),\r\n                isVisible: false,\r\n                isAbsolute: false,\r\n                absoluteTop: 0,\r\n                marginTop: 0,\r\n            });\r\n        }\r\n    }\r\n    // deal with leftover margins\r\n    for (let col = 0; col < cells.length; col += 1) {\r\n        moreMarginTops.push(leftoverMargins[col]);\r\n    }\r\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\r\n}\r\n// rects ordered by top coord, then left\r\nfunction placeRects(allRects, segs, cells) {\r\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\r\n    let singleColPlacements = [];\r\n    let multiColPlacements = [];\r\n    let leftoverMargins = [];\r\n    for (let col = 0; col < cells.length; col += 1) {\r\n        let rects = rectsByEachCol[col];\r\n        // compute all static segs in singlePlacements\r\n        let singlePlacements = [];\r\n        let currentHeight = 0;\r\n        let currentMarginTop = 0;\r\n        for (let rect of rects) {\r\n            let seg = segs[rect.index];\r\n            singlePlacements.push({\r\n                seg: resliceSeg(seg, col, col + 1, cells),\r\n                isVisible: true,\r\n                isAbsolute: false,\r\n                absoluteTop: rect.levelCoord,\r\n                marginTop: rect.levelCoord - currentHeight,\r\n            });\r\n            currentHeight = rect.levelCoord + rect.thickness;\r\n        }\r\n        // compute mixed static/absolute segs in multiPlacements\r\n        let multiPlacements = [];\r\n        currentHeight = 0;\r\n        currentMarginTop = 0;\r\n        for (let rect of rects) {\r\n            let seg = segs[rect.index];\r\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\r\n            let isFirstCol = rect.span.start === col;\r\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\r\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\r\n            if (isAbsolute) {\r\n                currentMarginTop += rect.thickness;\r\n                if (isFirstCol) {\r\n                    multiPlacements.push({\r\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\r\n                        isVisible: true,\r\n                        isAbsolute: true,\r\n                        absoluteTop: rect.levelCoord,\r\n                        marginTop: 0,\r\n                    });\r\n                }\r\n            }\r\n            else if (isFirstCol) {\r\n                multiPlacements.push({\r\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\r\n                    isVisible: true,\r\n                    isAbsolute: false,\r\n                    absoluteTop: rect.levelCoord,\r\n                    marginTop: currentMarginTop, // claim the margin\r\n                });\r\n                currentMarginTop = 0;\r\n            }\r\n        }\r\n        singleColPlacements.push(singlePlacements);\r\n        multiColPlacements.push(multiPlacements);\r\n        leftoverMargins.push(currentMarginTop);\r\n    }\r\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\r\n}\r\nfunction groupRectsByEachCol(rects, colCnt) {\r\n    let rectsByEachCol = [];\r\n    for (let col = 0; col < colCnt; col += 1) {\r\n        rectsByEachCol.push([]);\r\n    }\r\n    for (let rect of rects) {\r\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\r\n            rectsByEachCol[col].push(rect);\r\n        }\r\n    }\r\n    return rectsByEachCol;\r\n}\r\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\r\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\r\n        return seg;\r\n    }\r\n    let eventRange = seg.eventRange;\r\n    let origRange = eventRange.range;\r\n    let slicedRange = intersectRanges(origRange, {\r\n        start: cells[spanStart].date,\r\n        end: addDays(cells[spanEnd - 1].date, 1),\r\n    });\r\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\r\n            def: eventRange.def,\r\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\r\n            instance: eventRange.instance,\r\n            range: slicedRange,\r\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\r\n}\r\nclass DayGridSegHierarchy extends SegHierarchy {\r\n    constructor() {\r\n        super(...arguments);\r\n        // config\r\n        this.hiddenConsumes = false;\r\n        // allows us to keep hidden entries in the hierarchy so they take up space\r\n        this.forceHidden = {};\r\n    }\r\n    addSegs(segInputs) {\r\n        const hiddenSegs = super.addSegs(segInputs);\r\n        const { entriesByLevel } = this;\r\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\r\n        // remove the forced-hidden segs\r\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\r\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\r\n        }\r\n        return hiddenSegs;\r\n    }\r\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\r\n        const { entriesByLevel, forceHidden } = this;\r\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\r\n        if (this.hiddenConsumes && touchingEntry) {\r\n            const touchingEntryId = buildEntryKey(touchingEntry);\r\n            // if not already hidden\r\n            if (!forceHidden[touchingEntryId]) {\r\n                if (this.allowReslicing) {\r\n                    const placeholderEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\r\n                    const placeholderEntryId = buildEntryKey(placeholderEntry);\r\n                    forceHidden[placeholderEntryId] = true;\r\n                    entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\r\n                    this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\r\n                }\r\n                else {\r\n                    forceHidden[touchingEntryId] = true;\r\n                    hiddenEntries.push(touchingEntry);\r\n                }\r\n            }\r\n        }\r\n        return super.handleInvalidInsertion(insertion, entry, hiddenEntries);\r\n    }\r\n}\r\n\r\nclass TableRow extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.cellElRefs = new RefMap(); // the <td>\r\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\r\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\r\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\r\n        this.rootElRef = createRef();\r\n        this.state = {\r\n            framePositions: null,\r\n            maxContentHeight: null,\r\n            eventInstanceHeights: {},\r\n        };\r\n        this.handleResize = (isForced) => {\r\n            if (isForced) {\r\n                this.updateSizing(true); // isExternal=true\r\n            }\r\n        };\r\n    }\r\n    render() {\r\n        let { props, state, context } = this;\r\n        let { options } = context;\r\n        let colCnt = props.cells.length;\r\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\r\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\r\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\r\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\r\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells);\r\n        let isForcedInvisible = // TODO: messy way to compute this\r\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\r\n            (props.eventResize && props.eventResize.affectedInstances) ||\r\n            {};\r\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\r\n            props.renderIntro && props.renderIntro(),\r\n            props.cells.map((cell, col) => {\r\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\r\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\r\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\r\n                    createElement(Fragment, null,\r\n                        createElement(Fragment, null, normalFgNodes),\r\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\r\n                    createElement(Fragment, null,\r\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\r\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\r\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\r\n            })));\r\n    }\r\n    componentDidMount() {\r\n        this.updateSizing(true);\r\n        this.context.addResizeHandler(this.handleResize);\r\n    }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        let currentProps = this.props;\r\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\r\n    }\r\n    componentWillUnmount() {\r\n        this.context.removeResizeHandler(this.handleResize);\r\n    }\r\n    getHighlightSegs() {\r\n        let { props } = this;\r\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\r\n            return props.eventDrag.segs;\r\n        }\r\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\r\n            return props.eventResize.segs;\r\n        }\r\n        return props.dateSelectionSegs;\r\n    }\r\n    getMirrorSegs() {\r\n        let { props } = this;\r\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\r\n            return props.eventResize.segs;\r\n        }\r\n        return [];\r\n    }\r\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\r\n        let { context } = this;\r\n        let { eventSelection } = this.props;\r\n        let { framePositions } = this.state;\r\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\r\n        let isMirror = isDragging || isResizing || isDateSelecting;\r\n        let nodes = [];\r\n        if (framePositions) {\r\n            for (let placement of segPlacements) {\r\n                let { seg } = placement;\r\n                let { instanceId } = seg.eventRange.instance;\r\n                let key = instanceId + ':' + col;\r\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\r\n                let isAbsolute = placement.isAbsolute;\r\n                let left = '';\r\n                let right = '';\r\n                if (isAbsolute) {\r\n                    if (context.isRtl) {\r\n                        right = 0;\r\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\r\n                    }\r\n                    else {\r\n                        left = 0;\r\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\r\n                    }\r\n                }\r\n                /*\r\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\r\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\r\n                */\r\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\r\n                        visibility: isVisible ? '' : 'hidden',\r\n                        marginTop: isAbsolute ? '' : placement.marginTop,\r\n                        top: isAbsolute ? placement.absoluteTop : '',\r\n                        left,\r\n                        right,\r\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\r\n            }\r\n        }\r\n        return nodes;\r\n    }\r\n    renderFillSegs(segs, fillType) {\r\n        let { isRtl } = this.context;\r\n        let { todayRange } = this.props;\r\n        let { framePositions } = this.state;\r\n        let nodes = [];\r\n        if (framePositions) {\r\n            for (let seg of segs) {\r\n                let leftRightCss = isRtl ? {\r\n                    right: 0,\r\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\r\n                } : {\r\n                    left: 0,\r\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\r\n                };\r\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\r\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\r\n                    renderFill(fillType)));\r\n            }\r\n        }\r\n        return createElement(Fragment, {}, ...nodes);\r\n    }\r\n    updateSizing(isExternalSizingChange) {\r\n        let { props, state, frameElRefs } = this;\r\n        if (!props.forPrint &&\r\n            props.clientWidth !== null // positioning ready?\r\n        ) {\r\n            if (isExternalSizingChange) {\r\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\r\n                if (frameEls.length) {\r\n                    let originEl = this.rootElRef.current;\r\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\r\n                    false);\r\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\r\n                        this.setState({\r\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\r\n                            false),\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n            const oldInstanceHeights = this.state.eventInstanceHeights;\r\n            const newInstanceHeights = this.queryEventInstanceHeights();\r\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\r\n            this.safeSetState({\r\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\r\n                // Essentially, once you compute an element's height, never null-out.\r\n                // TODO: always display all events, as visibility:hidden?\r\n                eventInstanceHeights: Object.assign(Object.assign({}, oldInstanceHeights), newInstanceHeights),\r\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\r\n            });\r\n        }\r\n    }\r\n    queryEventInstanceHeights() {\r\n        let segElMap = this.segHarnessRefs.currentMap;\r\n        let eventInstanceHeights = {};\r\n        // get the max height amongst instance segs\r\n        for (let key in segElMap) {\r\n            let height = Math.round(segElMap[key].getBoundingClientRect().height);\r\n            let instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\r\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\r\n        }\r\n        return eventInstanceHeights;\r\n    }\r\n    computeMaxContentHeight() {\r\n        let firstKey = this.props.cells[0].key;\r\n        let cellEl = this.cellElRefs.currentMap[firstKey];\r\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\r\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\r\n    }\r\n    getCellEls() {\r\n        let elMap = this.cellElRefs.currentMap;\r\n        return this.props.cells.map((cell) => elMap[cell.key]);\r\n    }\r\n}\r\nTableRow.addStateEquality({\r\n    eventInstanceHeights: isPropsEqual,\r\n});\r\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\r\n    if (!mirrorSegs.length) {\r\n        return [];\r\n    }\r\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\r\n    return mirrorSegs.map((seg) => ({\r\n        seg,\r\n        isVisible: true,\r\n        isAbsolute: true,\r\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\r\n        marginTop: 0,\r\n    }));\r\n}\r\nfunction buildAbsoluteTopHash(colPlacements) {\r\n    let topsByInstanceId = {};\r\n    for (let placements of colPlacements) {\r\n        for (let placement of placements) {\r\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\r\n        }\r\n    }\r\n    return topsByInstanceId;\r\n}\r\n\r\nclass TableRows extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\r\n        this.splitBgEventSegs = memoize(splitSegsByRow);\r\n        this.splitFgEventSegs = memoize(splitSegsByRow);\r\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\r\n        this.splitEventDrag = memoize(splitInteractionByRow);\r\n        this.splitEventResize = memoize(splitInteractionByRow);\r\n        this.rowRefs = new RefMap();\r\n    }\r\n    render() {\r\n        let { props, context } = this;\r\n        let rowCnt = props.cells.length;\r\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\r\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\r\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\r\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\r\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\r\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\r\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\r\n        // choose 7 because a month view will have max 6 rows\r\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\r\n            props.clientWidth / context.options.aspectRatio / 6 :\r\n            null;\r\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\r\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\r\n                : row // in case there are no cells (like when resource view is loading)\r\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\r\n    }\r\n    componentDidMount() {\r\n        // HACK: need a daygrid wrapper parent to do positioning\r\n        // NOTE: a daygrid resource view w/o resources can have zero cells\r\n        const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\r\n        this.rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\r\n        if (this.rootEl) {\r\n            this.context.registerInteractiveComponent(this, {\r\n                el: this.rootEl,\r\n                isHitComboAllowed: this.props.isHitComboAllowed,\r\n            });\r\n        }\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.rootEl) {\r\n            this.context.unregisterInteractiveComponent(this);\r\n            this.rootEl = null;\r\n        }\r\n    }\r\n    // Hit System\r\n    // ----------------------------------------------------------------------------------------------------\r\n    prepareHits() {\r\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\r\n        false, true);\r\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\r\n        true, // horizontal\r\n        false);\r\n    }\r\n    queryHit(positionLeft, positionTop) {\r\n        let { colPositions, rowPositions } = this;\r\n        let col = colPositions.leftToIndex(positionLeft);\r\n        let row = rowPositions.topToIndex(positionTop);\r\n        if (row != null && col != null) {\r\n            let cell = this.props.cells[row][col];\r\n            return {\r\n                dateProfile: this.props.dateProfile,\r\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\r\n                dayEl: this.getCellEl(row, col),\r\n                rect: {\r\n                    left: colPositions.lefts[col],\r\n                    right: colPositions.rights[col],\r\n                    top: rowPositions.tops[row],\r\n                    bottom: rowPositions.bottoms[row],\r\n                },\r\n                layer: 0,\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n    getCellEl(row, col) {\r\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\r\n    }\r\n    getCellRange(row, col) {\r\n        let start = this.props.cells[row][col].date;\r\n        let end = addDays(start, 1);\r\n        return { start, end };\r\n    }\r\n}\r\nfunction isSegAllDay(seg) {\r\n    return seg.eventRange.def.allDay;\r\n}\r\n\r\nclass Table extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.elRef = createRef();\r\n        this.needsScrollReset = false;\r\n    }\r\n    render() {\r\n        let { props } = this;\r\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\r\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\r\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\r\n        // TODO: best place to normalize these options?\r\n        if (limitViaBalanced && !expandRows) {\r\n            limitViaBalanced = false;\r\n            dayMaxEventRows = null;\r\n            dayMaxEvents = null;\r\n        }\r\n        let classNames = [\r\n            'fc-daygrid-body',\r\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\r\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\r\n        ];\r\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\r\n                // these props are important to give this wrapper correct dimensions for interactions\r\n                // TODO: if we set it here, can we avoid giving to inner tables?\r\n                width: props.clientWidth,\r\n                minWidth: props.tableMinWidth,\r\n            } },\r\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\r\n                    width: props.clientWidth,\r\n                    minWidth: props.tableMinWidth,\r\n                    height: expandRows ? props.clientHeight : '',\r\n                } },\r\n                props.colGroupNode,\r\n                createElement(\"tbody\", { role: \"presentation\" },\r\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\r\n    }\r\n    componentDidMount() {\r\n        this.requestScrollReset();\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.dateProfile !== this.props.dateProfile) {\r\n            this.requestScrollReset();\r\n        }\r\n        else {\r\n            this.flushScrollReset();\r\n        }\r\n    }\r\n    requestScrollReset() {\r\n        this.needsScrollReset = true;\r\n        this.flushScrollReset();\r\n    }\r\n    flushScrollReset() {\r\n        if (this.needsScrollReset &&\r\n            this.props.clientWidth // sizes computed?\r\n        ) {\r\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\r\n            if (subjectEl) {\r\n                const originEl = subjectEl.closest('.fc-daygrid-body');\r\n                const scrollEl = originEl.closest('.fc-scroller');\r\n                const scrollTop = subjectEl.getBoundingClientRect().top -\r\n                    originEl.getBoundingClientRect().top;\r\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\r\n            }\r\n            this.needsScrollReset = false;\r\n        }\r\n    }\r\n}\r\nfunction getScrollSubjectEl(containerEl, dateProfile) {\r\n    let el;\r\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\r\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\r\n        // even if view is month-based, first-of-month might be hidden...\r\n    }\r\n    if (!el) {\r\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\r\n        // could still be hidden if an interior-view hidden day\r\n    }\r\n    return el;\r\n}\r\n\r\nclass DayTableSlicer extends Slicer {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.forceDayIfListItem = true;\r\n    }\r\n    sliceRange(dateRange, dayTableModel) {\r\n        return dayTableModel.sliceRange(dateRange);\r\n    }\r\n}\r\n\r\nclass DayTable extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.slicer = new DayTableSlicer();\r\n        this.tableRef = createRef();\r\n    }\r\n    render() {\r\n        let { props, context } = this;\r\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\r\n    }\r\n}\r\n\r\nclass TableDateProfileGenerator extends DateProfileGenerator {\r\n    // Computes the date range that will be rendered\r\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\r\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\r\n        let { props } = this;\r\n        return buildDayTableRenderRange({\r\n            currentRange: renderRange,\r\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\r\n            fixedWeekCount: props.fixedWeekCount,\r\n            dateEnv: props.dateEnv,\r\n        });\r\n    }\r\n}\r\nfunction buildDayTableRenderRange(props) {\r\n    let { dateEnv, currentRange } = props;\r\n    let { start, end } = currentRange;\r\n    let endOfWeek;\r\n    // year and month views should be aligned with weeks. this is already done for week\r\n    if (props.snapToWeek) {\r\n        start = dateEnv.startOfWeek(start);\r\n        // make end-of-week if not already\r\n        endOfWeek = dateEnv.startOfWeek(end);\r\n        if (endOfWeek.valueOf() !== end.valueOf()) {\r\n            end = addWeeks(endOfWeek, 1);\r\n        }\r\n    }\r\n    // ensure 6 weeks\r\n    if (props.fixedWeekCount) {\r\n        // TODO: instead of these date-math gymnastics (for multimonth view),\r\n        // compute dateprofiles of all months, then use start of first and end of last.\r\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\r\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\r\n        diffWeeks(lastMonthRenderStart, end));\r\n        end = addWeeks(end, 6 - rowCnt);\r\n    }\r\n    return { start, end };\r\n}\r\n\r\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\r\n----------------------------------------------------------------------------------------------------------------------*/\r\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\r\n// It is responsible for managing width/height.\r\nclass TableView extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.headerElRef = createRef();\r\n    }\r\n    renderSimpleLayout(headerRowContent, bodyContent) {\r\n        let { props, context } = this;\r\n        let sections = [];\r\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\r\n        if (headerRowContent) {\r\n            sections.push({\r\n                type: 'header',\r\n                key: 'header',\r\n                isSticky: stickyHeaderDates,\r\n                chunk: {\r\n                    elRef: this.headerElRef,\r\n                    tableClassName: 'fc-col-header',\r\n                    rowContent: headerRowContent,\r\n                },\r\n            });\r\n        }\r\n        sections.push({\r\n            type: 'body',\r\n            key: 'body',\r\n            liquid: true,\r\n            chunk: { content: bodyContent },\r\n        });\r\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\r\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\r\n    }\r\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\r\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\r\n        if (!ScrollGrid) {\r\n            throw new Error('No ScrollGrid implementation');\r\n        }\r\n        let { props, context } = this;\r\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\r\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\r\n        let sections = [];\r\n        if (headerRowContent) {\r\n            sections.push({\r\n                type: 'header',\r\n                key: 'header',\r\n                isSticky: stickyHeaderDates,\r\n                chunks: [{\r\n                        key: 'main',\r\n                        elRef: this.headerElRef,\r\n                        tableClassName: 'fc-col-header',\r\n                        rowContent: headerRowContent,\r\n                    }],\r\n            });\r\n        }\r\n        sections.push({\r\n            type: 'body',\r\n            key: 'body',\r\n            liquid: true,\r\n            chunks: [{\r\n                    key: 'main',\r\n                    content: bodyContent,\r\n                }],\r\n        });\r\n        if (stickyFooterScrollbar) {\r\n            sections.push({\r\n                type: 'footer',\r\n                key: 'footer',\r\n                isSticky: true,\r\n                chunks: [{\r\n                        key: 'main',\r\n                        content: renderScrollShim,\r\n                    }],\r\n            });\r\n        }\r\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\r\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\r\n    }\r\n}\r\n\r\nclass DayTableView extends TableView {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.buildDayTableModel = memoize(buildDayTableModel);\r\n        this.headerRef = createRef();\r\n        this.tableRef = createRef();\r\n        // can't override any lifecycle methods from parent\r\n    }\r\n    render() {\r\n        let { options, dateProfileGenerator } = this.context;\r\n        let { props } = this;\r\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\r\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\r\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\r\n        return options.dayMinWidth\r\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\r\n            : this.renderSimpleLayout(headerContent, bodyContent);\r\n    }\r\n}\r\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\r\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\r\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\r\n}\r\n\r\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}